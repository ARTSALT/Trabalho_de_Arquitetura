#include <iostream>;
#include <fstream>;
#include <string>;

using namespace std;

struct Label
{
    string word;
    int linha = 0;
};


void main()
{
    system("chcp 1252");

    Label labels[50];
    string texto;

    ifstream fin;
    fin.open("teste.asm", ios_base::in);
    ifstream ler;
    ler.open ("Teste.asm", ios_base::in);

    int index = 0;
    int linha = 0;


    //while (fin.good())
    //{
    //    fin >> labels[index].word;
    //    
    //    if (labels[index].word[labels[index].word.length() - 1] != ':')
    //    {
    //        labels[index].word.erase();
    //        index--;
    //    }
    //    else
    //    {
    //        labels[index].word.pop_back();
    //        labels[index].linha = linha;
    //        cout << labels[index].word << ": " << labels[index].linha << endl;
    //    }
    //    index++;
    //}

    while (fin.good())
    {
        getline(fin, texto);

        size_t found = texto.find(':');
        if (found != string::npos)
        {
            labels[index].word.insert(0, texto, 0, found);
            labels[index].linha = index;
            cout << labels[index].word << ": " << labels[index].linha << endl;
        }
        index++;
    }
    fin.close();
}